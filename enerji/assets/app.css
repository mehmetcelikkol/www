:root{
  --bg:#0b1620; --panel:#101b26; --muted:#0f2538; --border:#1f2b37;
  --text:#cfe1f5; --text-soft:#9fb4cc; --accent:#1d9bf0; --accent-2:#14c9b0;
  --ok:#18a058; --error:#d93025; --warn:#f59e0b; --white:#ffffff;
  --btn-bg:#162434; --btn-border:#24384c; --input-bg:#0e1a25;
}
body.light{
  --bg:#f2f4f8; --panel:#ffffff; --muted:#f0f2f6; --border:#e5e9f0;
  --text:#12263a; --text-soft:#5b6b7c; --accent:#127ac4; --accent-2:#0fa693;
  --ok:#0c8c4a; --error:#c5221f; --warn:#b7791f; --white:#ffffff;
  --btn-bg:#f7f9fc; --btn-border:#e2e8f0; --input-bg:#ffffff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Segoe UI, Inter, Roboto, Arial, Helvetica, sans-serif;
  background:var(--bg); color:var(--text);
}

/* Top nav */
.topbar{
  position:sticky; top:0; z-index:1000;
  background:linear-gradient(180deg, rgba(0,0,0,.35), transparent), var(--panel);
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(1.2) blur(6px);
}
.topbar .inner{
  max-width:1200px; margin:0 auto; padding:10px 14px;
  display:flex; align-items:center; gap:12px;
}
.brand{font-weight:700; letter-spacing:.2px}
nav.nav a{
  color:var(--text); text-decoration:none; padding:8px 12px; border-radius:10px; font-weight:600; font-size:12px;
  border:1px solid transparent;
}
nav.nav a:hover{background:var(--muted)}
nav.nav a.active{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-color:transparent}
.top-actions{display:flex; align-items:center; gap:10px; margin-left:auto}
.theme-toggle{border:1px solid var(--btn-border); background:var(--btn-bg); color:var(--text); padding:7px 10px; border-radius:10px; cursor:pointer}

/* Layout */
.container{max-width:1200px; margin:18px auto; padding:0 14px}
.cards{display:grid; grid-template-columns:1fr; gap:14px}
@media(min-width:900px){ .cards{grid-template-columns:1fr} }
.card{
  background:var(--panel); border:1px solid var(--border); border-radius:12px;
  padding:14px 16px; box-shadow:0 1px 0 rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.02);
}
h1{font-size:20px; margin:8px 0 12px}
h2{font-size:16px; margin:0 0 10px}

/* Forms */
.row{display:flex; gap:12px; flex-wrap:wrap}
.col{flex:1 1 260px; min-width:240px}
label{display:block; font-size:12px; color:var(--text-soft); margin:6px 0 6px}
input[type=text], input[type=number], input[type=datetime-local]{
  width:100%; box-sizing:border-box; color:var(--text); background:var(--input-bg);
  border:1px solid var(--btn-border); padding:9px 10px; border-radius:8px; outline:none;
}
input[disabled]{opacity:.7}
.actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.btn{
  appearance:none; cursor:pointer; border-radius:8px; border:1px solid var(--btn-border);
  color:var(--text); background:var(--btn-bg); padding:8px 12px; font-weight:600;
}
.btn:hover{filter:brightness(1.05)}
.btn-primary{background:linear-gradient(180deg, rgba(255,255,255,.08), transparent), var(--accent); border-color:transparent; color:#fff}
.btn-danger{background:linear-gradient(180deg, rgba(255,255,255,.08), transparent), var(--error); border-color:transparent; color:#fff}
.btn-ghost{background:transparent}

/* Tables */
table{width:100%; border-collapse:separate; border-spacing:0; background:var(--panel); border:1px solid var(--border); border-radius:12px; overflow:hidden}
th,td{padding:10px 10px; text-align:left; border-bottom:1px solid var(--border)}
thead th{font-size:12px; color:var(--text-soft); background:var(--muted)}
tbody tr:hover{background:rgba(255,255,255,.03)}

/* Feedback */
.flashes{margin:8px 0}
.flash{
  padding:10px 12px; border-radius:8px; border:1px solid; margin:8px 0;
  background:rgba(0,0,0,.08);
}
.flash.ok{border-color:rgba(24,160,88,.35); background:rgba(24,160,88,.12); color:#d7f2e5}
.flash.error{border-color:rgba(217,48,37,.35); background:rgba(217,48,37,.12); color:#ffd6d3}
.muted{color:var(--text-soft)}
.kbd{display:inline-block; padding:2px 6px; border-radius:6px; background:var(--muted); border:1px solid var(--border); color:var(--text-soft); font-size:12px}

/* Grafik sayfası: canvas sarmalayıcı */
.canvas-wrap{position:relative;height:330px}
canvas{display:block;width:100%;height:100%;max-width:100%}
@media (max-width:800px){.canvas-wrap{height:260px}}

/* Kart listeleri (grafikler ve özet) için boş veri */
.nodata{font-style:italic;color:var(--text-soft);margin:0}

/* Paneller */
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px 16px;
  margin:12px 0;
  box-shadow:0 1px 0 rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.02);
}
.panel.errors{
  border-color:rgba(217,48,37,.35);
  background:rgba(217,48,37,.12);
  color:#ffd6d3;
}
.panel ul{margin:6px 0 0 18px}
.panel li{margin:2px 0}

/* Filtre çubuğu */
.filter{
  display:flex; flex-wrap:wrap; align-items:center; gap:10px;
  background:linear-gradient(180deg, rgba(255,255,255,.04), transparent), var(--panel);
  border:1px solid var(--border); border-radius:12px; padding:10px 12px; margin:12px 0;
}
.filter label{display:flex; flex-direction:column; gap:4px; font-size:12px; color:var(--text-soft)}
.filter input[type=datetime-local]{min-width:210px}
.filter button{
  appearance:none; cursor:pointer; border-radius:8px; border:1px solid var(--btn-border);
  color:var(--text); background:var(--btn-bg); padding:8px 12px; font-weight:600;
}
.filter button:hover{filter:brightness(1.05)}
.filter .range-btns button{padding:6px 10px; font-size:11px}

/* Küçük etiket/pil */
.tag{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:10px;
  background:var(--muted); border:1px solid var(--border); color:var(--text-soft); font-size:12px;
}

/* Cihaz seçim ızgarası */
.dev-filter{
  display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:8px; margin:8px 0;
}
.dev-filter label{
  display:flex; align-items:center; gap:8px;
  background:var(--muted); border:1px solid var(--border); padding:8px 10px; border-radius:8px; font-size:12px;
}
.dev-filter input[type=checkbox]{accent-color:var(--accent)}
.dev-filter-tools{display:flex; align-items:center; gap:8px; margin:6px 0 0}

/* Grafik kartları */
.device{
  background:var(--panel); border:1px solid var(--border); border-radius:12px;
  padding:12px 14px; margin:12px 0;
  box-shadow:0 1px 0 rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.02);
}
.device h2{font-size:16px; margin:0 0 8px}

/* Chart.js özelleştirmeleri */
.chart-container{
  position:relative; height:400px; margin:24px 0;
}
#powerChart{
  width:100% !important; height:auto !important;
}

/* deepseekten gelen tasarım */
/* Özet Panel */
.summary-panel {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 16px;
}

.summary-header {
    margin-bottom: 12px;
    font-size: 14px;
    color: #495057;
}

.summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 8px 16px;
    margin-bottom: 12px;
}

.summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
}

.summary-label {
    font-size: 12px;
    color: #6c757d;
    font-weight: 500;
}

.summary-value {
    font-size: 12px;
    color: #495057;
    font-weight: 600;
}

.summary-notes {
    border-top: 1px solid #e9ecef;
    padding-top: 12px;
}

.note-item {
    font-size: 11px;
    color: #6c757d;
    margin-bottom: 4px;
}

/* Filtre Form */
.filter-form {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
}

.filter-row {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    align-items: flex-end;
    margin-bottom: 16px;
}

.date-filters {
    display: flex;
    gap: 12px;
    align-items: flex-end;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.filter-label {
    font-size: 12px;
    color: #495057;
    font-weight: 500;
}

.filter-input {
    padding: 6px 8px;
    border: 1px solid #ced4da;
    border-radius: 4px;
    font-size: 13px;
}

.quick-filters {
    display: flex;
    align-items: center;
    gap: 8px;
}

.quick-label {
    font-size: 12px;
    color: #6c757d;
    margin-right: 4px;
}

.ops-filters {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-left: auto;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #495057;
    cursor: pointer;
}

.ops-counter {
    display: flex;
    align-items: center;
}

.ops-badge {
    background: #007bff;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

/* Cihaz Filtresi */
.device-filter-section {
    border-top: 1px solid #e9ecef;
    padding-top: 16px;
}

.device-filter-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.device-label {
    font-size: 13px;
    font-weight: 600;
    color: #495057;
}

.device-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.selection-hint {
    font-size: 11px;
    color: #6c757d;
}

.device-filter-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 8px;
    max-height: 200px;
    overflow-y: auto;
    padding: 8px;
    background: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #e9ecef;
}

.device-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.device-checkbox:hover {
    background: #e9ecef;
}

.device-text {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
}

.device-id {
    font-weight: 600;
    color: #007bff;
    min-width: 20px;
}

.device-name {
    color: #495057;
}
